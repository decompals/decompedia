---
title: MWCC
description: Metrowerks C Compiler
published: true
date: 2026-02-26T17:25:25.565Z
tags: compiler, mwcc, metrowerks
editor: markdown
dateCreated: 2025-06-01T18:59:42.808Z
---

# MWCC
MWCC is a commercial compiler by Metrowerks (now owned by Freescale) as part of the CodeWarrior line of compilers and tools available for a large number of platforms. It is a proprietary compiler platform, unlike [GCC](/compilers/GCC), which was licensed out to developers for use on their respective consoles.

A [decompilation of Mac MWCC](https://git.wuffs.org/MWCC/) compiler is underway.

## Identifying a Metrowerks compiled binary

### A .comment Section

For unstripped binaries, some versions of the linker (MWLD) may include a comment string in a `.comment` section that can be used to indentify that the binary has been linked with a Metrowerks linker. An example of such a string on the PS2 is the following: `MW MIPS C Compiler (2.4.1.01)`. Note that this does not identify the exact version of MWCC used, as this version number is generated by MWLD and a version number was often shared by multiple releases of CodeWarrior. Further investigation will be required to identify the exact compiler version used.

This section is not present in GameCube releases of MWCC.

### The Main Section

The default linker script for PS2 MWLD joins the text, data, and rodata sections into a single section called `main`. This can be an indicator that the binary may have been linked by MWLD.


### MW Overlay Headers
Overlays can be identified by their headers which start with an `MWo` identifier.

## Debug Information
### PS2
For PS2 ELF binaries that have been compiled with debug information that has not been stripped the information is stored in a `.debug` section containing DWARF 1 format debug information.

### GC/Wii
GameCube/Wii releases of MWCC supported generating debug information in both DWARF 1 format as well as DWARF 2 as of version 3.0. DWARF 1 and 2 debug information utilize a different structure of sections in the linked binary.

## Decompilation Projects using this compiler

### PS2
- [Dark Cloud](https://github.com/Adubbz/DCDecomp)
- [Goin' Quackers](https://github.com/AngheloAlf/goin_quackers)
- [Resident Evil: Codename Veronica X](https://github.com/fmil95/recvx-decomp)
- [Shaun Palmer's Pro Snowboarder](https://github.com/Daniel-McCarthy/SPPS)
- [Street Fighter III: Third Strike](https://github.com/apstygo/sfiii-decomp)
- [Sonic CD](https://git.sr.ht/~benoitren/soniccddecompilation)

### PSP
- [Castlevania: Symphony of the Night](https://github.com/Xeeynamo/sotn-decomp)

### GC/Wii
- [Spongebob Battle for Bikini Bottom](https://github.com/bfbbdecomp/bfbb)

### NDS
- [The World Ends with You](https://github.com/Yotona/twewy)
- [Fire Emblem: Shadow Dragon](https://github.com/Eebit/fe11-us)

###  Known MWCC games without a decompilation project

### PS2
- Airblade (2001)
	- [x] Has `.comment` MW compiler string.
- Burnout 3 (2004)
	- [x] Has `.comment` MW compiler string.
  - While the PS2 version does not currently have a decomp project, the Xbox version does. That project is known as [Reburn 3](https://github.com/reburndev/reburn3).
- Dropship: United Peace Force (2002)
	- [x] Has `.comment` MW compiler string.
- Gitaroo Man
	- [x] Has `.comment` MW compiler string.
- Maximo: Ghosts to Glory
	- [x] Has `.comment` MW compiler string.
  - [x] Has DWARF debug sections (in demo).
- MX 2002 Featuring Ricky Charmichael
	- [x] Has `.comment` MW compiler string.
  - [x] Has DWARF debug sections (found in SLUS_200.72).
- MX vs. ATV Unleashed (2005)
	- [x] Has `.comment` MW compiler string (found in SLUS-20767).
  - [ ] Has DWARF debug sections.
- Pro Evolution Soccer
	- [x] Has `.comment` MW compiler string (found in SLES_50412).
  - [ ] Has DWARF debug sections.
  
## Decompilation patterns
### PS2 MIPS -O0

#### If comparison with numeric literal using AT register

In cases where matching a greater/lesser than if conditional that uses the `AT` register rather than a standard variable register, it may be required to swap the positions of the literal and the variable.

For example, take the following C code:


Example C:
```c
if (tmp >= 0x100) {
    tmp = 0xFF;
}
```
The above C code will generate MIPS asm that makes use of an available variable register by default. However, in order to produce the `AT` register to be used, the C will need to be adjusted to the following:
```c
if (0xFF < tmp) {
    tmp = 0xFF;
}
```
And here is a comparison of the two conditionals and the MIPS assembly output:
| if (tmp >= 0x100)                           | if (0xFF < tmp)                              |
| ------------------------------------------- | -------------------------------------------- |
| slti    v0,s0,0x100<br>bnez    at,40<br>nop |  slti    at,s0,0x100<br>bnez    at,40<br>nop |

### Interprocedural optimization within a compilation unit

There are cases where a function cannot be properly matched on its own. With static functions, MWCC can perform optimizations using information about the whole compilation unit.

```c
int flowers = 0;

void plant(int count) {
    flowers += count;
}

void harvest(int count) {
    flowers -= count;
}

void garden(int count) {
    plant(count);
    harvest(count);
}
```

In this example, when `plant` is not static, MWCC treats the function as opaque and must not assume it leaves caller-saved registers such as `a0` unchanged. So the compiler restores `a0` from the callee-saved temporary `s0` before calling `harvest`, as shown in the assembly below.

```s
addiu sp, sp, -0x20
sd ra, 0x10(sp)
sq s0, 0x0(sp)
daddu s0, a0, zero
jal plant
nop
daddu a0, s0, zero
jal harvest
nop
ld ra, 0x10(sp)
lq s0, 0x0(sp)
addiu sp, sp, 0x20
jr ra
nop
```

However, making `plant` static within the same C file allows MWCC to prove that the function does not modify its argument.

```c
static void plant(int count) {
    flowers += count;
}
```

Then MWCC omits the `daddu a0, s0, zero` instructions, as `a0` already holds the correct argument value.

```s
addiu sp, sp, -0x10
sd ra, 0x0(sp)
jal plant
nop
jal harvest
nop
ld ra, 0x0(sp)
addiu sp, sp, 0x10
jr ra
nop
```

Note that if `plant` *does* clobber `a0`, MWCC cannot perform this optimization.

This behavior can arise at all optimization levels above `-O0` on MWCCPS2 2.4 and 3.0.3.
